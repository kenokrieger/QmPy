# QmPy

<img src="./badges/build_passing.svg"> <img src="./badges/coverage.svg">

QmPy is a python package containing routines to numerically solve and visualize
the schroedinger equation for different potentials.


## Disclaimer

This is a student project. It utilizes very unstable and simple numerical
algorithms.

## Requirements

This package requires Python 3.6 or higher.

## Installation

For easy installation with pip use:

```shell
pip install -i https://test.pypi.org/simple/ qmpy-schrodinger
```

## Usage

```python
from qmpy._fileio import _read_schrodinger, _write_data
from qmpy._interpolation import _interpolate
from qmpy.solvers import schroedinger, calculate_expval, calculate_uncertainty
from qmpy.graphics import qm_plottings

SCHRODINGERS_PATH = "schrodinger.inp"


def schrodingers_solver():
    """
    Solves the 1D Schrodinger's time-independent equation
    for any type of potential and graphicates its solution. The
    output graphs are shown on screen after executing the program and
    the data generated by solving the Schrodinger's equation is written
    in a series of output files (potentials.dat, energies.dat, wavefuncs.dat,
    and expvalues.dat). It needs an input file named schrodinger.inp with
    the data needed to solve the equation. The schrodinger.inp file needs to
    have following format:

        (float) # mass
        (float) (float) (int) # xMin xMax nPoint
        (int) (int) # first and last eigenvalue to print
        (str(can be linear, polynomial, or cspline)) # interpolation type
        (int) # nr. of interpolation points and xy declarations
        (float) (float)
        ...

    Example:
        2.0 # mass
        -2.0 2.0 1999 # xMin xMax nPoint
        1 5 # first and last eigenvalue to print
        linear # interpolation type
        2 # nr. of interpolation points and xy declarations
        -2.0 0.0
        2.0 0.0

    """

    specs = _read_schrodinger(SCHRODINGERS_PATH)
    xx = specs['interpolxydecs'][:, 0]
    yy = specs['interpolxydecs'][:, 1]
    xint, pots = _interpolate(xx, yy, specs['xopt'], specs['interpoltype'])
    ev_range = (specs['first_ev'] - 1, specs['last_ev'] - 1)
    energies, wfuncs = schroedinger(specs['mass'], xint, pots,
                                    select_range=ev_range)
    expvals = calculate_expval(xint, wfuncs)
    uncertainties = calculate_uncertainty(xint, wfuncs)

    expvallist = (expvals, uncertainties)
    expvaldata = np.array(expvallist)
    _write_data('.', pots, energies, wfuncs, expvaldata)
    qm_plottings('.')


    if __name__ == "_main_":
        schrodingers_solver()
```

## Documentation

The documentation can be found at [qmpy.org/docs](http://qmpy.org/docs/) or
in the docs/ folder on [github](https://github.com/kenokrieger/QmPy/tree/master/docs) .

## Contributing

Contributions are always welcome. To contribute fork the repository from
github and develop your feature including unit tests. For your contribution
to be incorporated in the main build issue a pull request.

## License

[BSD 2-Clause License](https://choosealicense.com/licenses/bsd-2-clause/) <br/>
See LICENSE.txt for further information.
